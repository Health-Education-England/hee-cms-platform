(()=>{"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const u=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=e,this.icon=e.querySelector(".nhsuk-filter-tag__icon"),this.setUp(),this.addEventListeners()}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.tag.addEventListener("click",(function(e){return t.removeFilter(e)}))}},{key:"removeFilter",value:function(t){t.preventDefault(),document.querySelectorAll("input[value='".concat(this.tag.dataset.filter,"']")).forEach((function(t){t.checked=!1,t.dispatchEvent(new Event("change"))})),t.target.remove()}},{key:"setUp",value:function(){this.tag.classList.add("nhsuk-filter-tag--js"),this.icon&&(this.icon.hidden=!1)}}])&&s(e.prototype,n),t}();(t=document.getElementsByClassName("nhsuk-filter-tag"),function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}))};function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const v=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.toggles=e.querySelectorAll("a"),console.log(this.container),console.log(this.toggles),this.addEventListeners()}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.toggles&&this.toggles.forEach((function(e){return e.addEventListener("click",(function(e){return t.toggletranscript(e)}))}))}},{key:"toggletranscript",value:function(){this.isCollapsed()?this.container.classList.remove("nhsuk-media__transcript-expanded"):this.container.classList.add("nhsuk-media__transcript-expanded")}},{key:"isCollapsed",value:function(){return!!this.container.classList.contains("nhsuk-media__transcript-expanded")}}])&&d(e.prototype,n),t}();(t=document.getElementsByClassName("nhsuk-media__transcript"),function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}))};function m(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const k=function(){var t,e=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.toggleLink=this.container.querySelector("a"),this.parentList=this.container.parentNode,this.addEventListeners()}var e,n;return e=t,(n=[{key:"addEventListeners",value:function(){var t=this;this.toggleLink&&this.toggleLink.addEventListener("mousedown",(function(e){return t.toggleMenu(e)}))}},{key:"handleState",value:function(){var t=this,e=document.querySelectorAll(".nhsuk-subheader.is-active");e.forEach((function(e){e!=t.container?(e.classList.remove("is-active"),e.toggleAttribute("aria-expanded")):t.toggleClass(t.parentList,"submenu-open")})),0===e.length&&this.toggleClass(this.parentList,"submenu-open")}},{key:"toggleMenu",value:function(t){t.preventDefault(),this.handleState(),this.toggleClass(this.container,"is-active"),this.toggleAttribute(this.container,"aria-expanded")}},{key:"toggleClass",value:function(t,e){t&&e&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))}},{key:"toggleAttribute",value:function(t,e){if(t&&e){var n="true"===t.getAttribute(e)?"false":"true";t.setAttribute(e,n)}}}])&&b(e.prototype,n),t}();(t=document.getElementsByClassName("nhsuk-subheader"),function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){return new e(t)}));var n=document.querySelector("#close-menu");n&&n.addEventListener("mousedown",(function(){document.querySelector("#toggle-menu").focus()})),document.addEventListener("mousedown",(function(t){var e=document.querySelector(".nhsuk-header__navigation.js-show");if(e){var n=t.target!==e,r=t.target!==document.querySelector("#toggle-menu"),i=t.target.closest(".nhsuk-header__navigation.js-show");n&&r&&!i&&e.classList.remove("js-show")}var o=document.querySelector(".nhsuk-subheader.is-active");if(o){var a=t.target!==o,s=t.target.closest(".nhsuk-subheader.is-active");a&&!s&&(o.classList.remove("is-active"),document.querySelector(".nhsuk-header__navigation-list").classList.remove("submenu-open"))}}))};document.addEventListener("DOMContentLoaded",(function(){var e,i,a,s;s=function(){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.anchorLinks=t,this.anchorLinks.hidden=!0,this.foundHeadings=this.findHeadings(t.dataset.headings),null!==(n=this.foundHeadings)&&void 0!==n&&n.length&&this.addAnchorsToPage()}var r;return(r=[{key:"findHeadings",value:function(t){var e=[];return document.querySelectorAll(t).forEach((function(t,n){t.id||(t.id=t.innerText.replace(/ .*/,"").replace(/[\n\r]/g,"").replace(/\s/g,"").toLowerCase()+n),e.push(t)})),e}},{key:"appearsOnRightPageColumn",value:function(e,n){return t(document.querySelectorAll(n)).some((function(t){return t!==e&&t.contains(e)}))}},{key:"addAnchorsToPage",value:function(){var t=this,e=document.createElement("ul");this.foundHeadings.forEach((function(n){if(!(n.dataset.anchorlinksignore||n.classList.contains("nhsuk-u-visually-hidden")||n.classList.contains("nhsuk-card__heading")||t.appearsOnRightPageColumn(n,".nhsuk-grid-column-one-third"))){var r=document.createElement("li"),i=document.createElement("a");i.href="#"+n.id;for(var o=n.getElementsByClassName("nhsuk-u-visually-hidden");o.length>0;)o[0].remove();i.innerText=n.innerText,i.innerHTML=i.innerHTML.replace(/<br\s*[\/]?>/gi," "),r.appendChild(i),e.appendChild(r)}})),this.anchorLinks.appendChild(e),this.anchorLinks.hidden=!1}}])&&n(e.prototype,r),e}(),t(document.getElementsByClassName("nhsuk-anchor-links")).forEach((function(t){return new s(t)})),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.checkboxes=r(this.container.getElementsByClassName("nhsuk-checkboxes__input")),this.groups=r(this.container.getElementsByClassName("nhsuk-filter__group")),this.submit=this.container.querySelector(".nhsuk-filter__submit"),this.setUp(),this.addEventListeners()}var e;return(e=[{key:"addEventListeners",value:function(){var t=this;this.checkboxes.forEach((function(e){e.addEventListener("change",(function(e){return t.updateResults(e)}))})),this.groups.forEach((function(e){var n=e.querySelector(".nhsuk-fieldset__legend");n&&n.addEventListener("click",(function(e){return t.toggleGroup(e)}))}))}},{key:"setUp",value:function(){this.container.classList.add("nhsuk-filter--js"),this.groups.forEach((function(t){return t.classList.add("nhsuk-filter__group--closed")})),this.submit&&(this.submit.hidden=!0)}},{key:"toggleGroup",value:function(t){t.preventDefault(),t.target.closest(".nhsuk-filter__group").classList.toggle("nhsuk-filter__group--closed")}},{key:"updateResults",value:function(t){this.container.submit()}}])&&o(t.prototype,e),t}(),r(document.getElementsByClassName("nhsuk-filter")).forEach((function(t){return new a(t)})),u(),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.sort=this.container.querySelector(".nhsuk-listing__sort"),this.addEventListeners(),this.toggleJavascriptElements()}var e;return(e=[{key:"addEventListeners",value:function(){var t=this;this.sort&&c(this.sort.getElementsByTagName("select")).forEach((function(e){return e.addEventListener("change",(function(e){return t.updateResults(e)}))}))}},{key:"toggleJavascriptElements",value:function(){if(this.sort){var t=this.sort.querySelector(".nhsuk-listing__sort__submit");t&&(t.hidden=!0)}}},{key:"updateResults",value:function(){this.sort.submit()}}])&&f(t.prototype,e),t}(),c(document.getElementsByClassName("nhsuk-listing")).forEach((function(t){return new i(t)})),v(),e=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=e,this.svg=n,this.regions=m(n.getElementsByClassName("nhsuk-region")),this.list=m(e.querySelectorAll("#regionList li a")),this.addLinksToMap(),this.addClasses(),this.mapEventListeners(),this.linkEventListeners()}var e;return(e=[{key:"addClasses",value:function(){this.svg.querySelector("style").appendChild(document.createTextNode("\n        .hover {transform: scale(1.05);transform-origin: 75% 75%;transition-duration:2s;}\n        .hover * {stroke-width: 6;stroke-miterlimit: 1;}\n        .focus .st0 {fill:#ffeb3b;stroke:#212b32;}\n        .focus * {stroke-width: 6;stroke-miterlimit: 1;}\n      "))}},{key:"addLinksToMap",value:function(){var t=this;this.regions.forEach((function(e){var n=t.mapCounterpart(e.id),r=n.href?n.href:"/",i=n.innerHTML?n.innerHTML:"",o=e.innerHTML,a='<a xlink:href="'.concat(r,'" >\n          <title>').concat(i,"</title>\n          ").concat(o,"\n        </a>");e.innerHTML=a}))}},{key:"mapEventListeners",value:function(){var t=this;this.regions.forEach((function(e){return e.addEventListener("mouseenter",(function(){return t.mapIn(e,"hover",!0)}))})),this.regions.forEach((function(e){return e.addEventListener("mouseout",(function(){return t.mapOut(e,"hover",!0)}))})),this.regions.forEach((function(e){return e.addEventListener("click",(function(e){return t.mapClick(e)}))}))}},{key:"linkEventListeners",value:function(){var t=this;this.list.forEach((function(e){return e.addEventListener("mouseenter",(function(e){return t.linkEvent(e.target,"in","hover")}))})),this.list.forEach((function(e){return e.addEventListener("mouseout",(function(e){return t.linkEvent(e.target,"out","hover")}))})),this.list.forEach((function(e){return e.addEventListener("focusin",(function(e){return t.linkEvent(e.target,"in","focus")}))})),this.list.forEach((function(e){return e.addEventListener("focusout",(function(e){return t.linkEvent(e.target,"out","focus")}))}))}},{key:"moveToTop",value:function(t){t.parentElement.appendChild(t)}},{key:"mapIn",value:function(t,e,n){if(this.moveToTop(t),t.classList.add(e),n){var r=this.mapCounterpart(t.id);r&&r.classList.add("hover")}}},{key:"mapOut",value:function(t,e,n){if(t.classList.remove(e),n){var r=this.mapCounterpart(t.id);r&&r.classList.remove("hover")}}},{key:"mapClick",value:function(t){t.preventDefault();var e=this.mapCounterpart(t.target.closest("g").id);e&&e.click()}},{key:"mapCounterpart",value:function(t){return this.list.find((function(e){return e.id===t}))}},{key:"linkEvent",value:function(t,e,n){var r=t.id,i=this.linkCounterpart(r);"in"===e?this.mapIn(i,n):this.mapOut(i,n)}},{key:"linkCounterpart",value:function(t){return this.regions.find((function(e){return e.id===t}))}}])&&g(t.prototype,e),t}(),m(document.querySelectorAll(".nhsuk-map")).forEach((function(t){var n=t.querySelector("object");n.addEventListener("load",(function(){var r=n.getSVGDocument().querySelector("svg");r&&new e(t,r)}))})),k()}))})();